var v={};/*!
 * media-typer
 * Copyright(c) 2014 Douglas Christopher Wilson
 * MIT Licensed
 */var o=/; *([!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) *= *("(?:[ !\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u0020-\u007e])*"|[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) */g,d=/^[\u0020-\u007e\u0080-\u00ff]+$/,y=/^[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+$/,w=/\\([\u0000-\u007f])/g,x=/([\\"])/g,h=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,s=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,c=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;v.format=l;v.parse=g;function l(e){if(!e||typeof e!="object")throw new TypeError("argument obj is required");var r=e.parameters,f=e.subtype,t=e.suffix,a=e.type;if(!a||!s.test(a))throw new TypeError("invalid type");if(!f||!h.test(f))throw new TypeError("invalid subtype");var n=a+"/"+f;if(t){if(!s.test(t))throw new TypeError("invalid suffix");n+="+"+t}if(r&&typeof r=="object")for(var i,p=Object.keys(r).sort(),u=0;u<p.length;u++){if(i=p[u],!y.test(i))throw new TypeError("invalid parameter name");n+="; "+i+"="+E(r[i])}return n}function g(e){if(!e)throw new TypeError("argument string is required");if(typeof e=="object"&&(e=m(e)),typeof e!="string")throw new TypeError("argument string is required to be a string");var r=e.indexOf(";"),f=r!==-1?e.substr(0,r):e,t,a,n=$(f),i={},p;for(o.lastIndex=r;a=o.exec(e);){if(a.index!==r)throw new TypeError("invalid parameter format");r+=a[0].length,t=a[1].toLowerCase(),p=a[2],p[0]==='"'&&(p=p.substr(1,p.length-2).replace(w,"$1")),i[t]=p}if(r!==-1&&r!==e.length)throw new TypeError("invalid parameter format");return n.parameters=i,n}function m(e){if(typeof e.getHeader=="function")return e.getHeader("content-type");if(typeof e.headers=="object")return e.headers&&e.headers["content-type"]}function E(e){var r=String(e);if(y.test(r))return r;if(r.length>0&&!d.test(r))throw new TypeError("invalid parameter value");return'"'+r.replace(x,"\\$1")+'"'}function $(e){var r=c.exec(e.toLowerCase());if(!r)throw new TypeError("invalid media type");var f=r[1],t=r[2],a,n=t.lastIndexOf("+");n!==-1&&(a=t.substr(n+1),t=t.substr(0,n));var i={type:f,subtype:t,suffix:a};return i}export{v as m};
