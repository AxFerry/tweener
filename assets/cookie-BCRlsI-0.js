var w={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */w.parse=S;w.serialize=b;var m=Object.prototype.toString,p=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,g=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,x=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,E=/^[\u0020-\u003A\u003D-\u007E]*$/;function S(i,a){if(typeof i!="string")throw new TypeError("argument str must be a string");var e={},n=i.length;if(n<2)return e;var u=a&&a.decode||T,r=0,o=0,t=0;do{if(o=i.indexOf("=",r),o===-1)break;if(t=i.indexOf(";",r),t===-1)t=n;else if(o>t){r=i.lastIndexOf(";",o-1)+1;continue}var f=h(i,r,o),s=l(i,o,f),v=i.slice(f,s);if(!e.hasOwnProperty(v)){var c=h(i,o+1,t),d=l(i,t,c);i.charCodeAt(c)===34&&i.charCodeAt(d-1)===34&&(c++,d--);var y=i.slice(c,d);e[v]=C(y,u)}r=t+1}while(r<n);return e}function h(i,a,e){do{var n=i.charCodeAt(a);if(n!==32&&n!==9)return a}while(++a<e);return e}function l(i,a,e){for(;a>e;){var n=i.charCodeAt(--a);if(n!==32&&n!==9)return a+1}return e}function b(i,a,e){var n=e&&e.encode||encodeURIComponent;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!p.test(i))throw new TypeError("argument name is invalid");var u=n(a);if(!g.test(u))throw new TypeError("argument val is invalid");var r=i+"="+u;if(!e)return r;if(e.maxAge!=null){var o=Math.floor(e.maxAge);if(!isFinite(o))throw new TypeError("option maxAge is invalid");r+="; Max-Age="+o}if(e.domain){if(!x.test(e.domain))throw new TypeError("option domain is invalid");r+="; Domain="+e.domain}if(e.path){if(!E.test(e.path))throw new TypeError("option path is invalid");r+="; Path="+e.path}if(e.expires){var t=e.expires;if(!A(t)||isNaN(t.valueOf()))throw new TypeError("option expires is invalid");r+="; Expires="+t.toUTCString()}if(e.httpOnly&&(r+="; HttpOnly"),e.secure&&(r+="; Secure"),e.partitioned&&(r+="; Partitioned"),e.priority){var f=typeof e.priority=="string"?e.priority.toLowerCase():e.priority;switch(f){case"low":r+="; Priority=Low";break;case"medium":r+="; Priority=Medium";break;case"high":r+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(e.sameSite){var s=typeof e.sameSite=="string"?e.sameSite.toLowerCase():e.sameSite;switch(s){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return r}function T(i){return i.indexOf("%")!==-1?decodeURIComponent(i):i}function A(i){return m.call(i)==="[object Date]"}function C(i,a){try{return a(i)}catch{return i}}export{w as c};
