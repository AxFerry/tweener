var g={exports:{}},c={exports:{}};c.exports=M;c.exports.preferredCharsets=M;var b=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function k(t){for(var r=t.split(","),e=0,n=0;e<r.length;e++){var a=N(r[e].trim(),e);a&&(r[n++]=a)}return r.length=n,r}function N(t,r){var e=b.exec(t);if(!e)return null;var n=e[1],a=1;if(e[2])for(var o=e[2].split(";"),i=0;i<o.length;i++){var u=o[i].trim().split("=");if(u[0]==="q"){a=parseFloat(u[1]);break}}return{charset:n,q:a,i:r}}function I(t,r,e){for(var n={o:-1,q:0,s:0},a=0;a<r.length;a++){var o=K(t,r[a],e);o&&(n.s-o.s||n.q-o.q||n.o-o.o)<0&&(n=o)}return n}function K(t,r,e){var n=0;if(r.charset.toLowerCase()===t.toLowerCase())n|=1;else if(r.charset!=="*")return null;return{i:e,o:r.i,q:r.q,s:n}}function M(t,r){var e=k(t===void 0?"*":t||"");if(!r)return e.filter(m).sort(x).map(V);var n=r.map(function(o,i){return I(o,e,i)});return n.filter(m).sort(x).map(function(o){return r[n.indexOf(o)]})}function x(t,r){return r.q-t.q||r.s-t.s||t.o-r.o||t.i-r.i||0}function V(t){return t.charset}function m(t){return t.q>0}var z=c.exports,v={exports:{}};v.exports=F;v.exports.preferredEncodings=F;var B=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function D(t){for(var r=t.split(","),e=!1,n=1,a=0,o=0;a<r.length;a++){var i=G(r[a].trim(),a);i&&(r[o++]=i,e=e||P("identity",i),n=Math.min(n,i.q||1))}return e||(r[o++]={encoding:"identity",q:n,i:a}),r.length=o,r}function G(t,r){var e=B.exec(t);if(!e)return null;var n=e[1],a=1;if(e[2])for(var o=e[2].split(";"),i=0;i<o.length;i++){var u=o[i].trim().split("=");if(u[0]==="q"){a=parseFloat(u[1]);break}}return{encoding:n,q:a,i:r}}function H(t,r,e){for(var n={o:-1,q:0,s:0},a=0;a<r.length;a++){var o=P(t,r[a],e);o&&(n.s-o.s||n.q-o.q||n.o-o.o)<0&&(n=o)}return n}function P(t,r,e){var n=0;if(r.encoding.toLowerCase()===t.toLowerCase())n|=1;else if(r.encoding!=="*")return null;return{i:e,o:r.i,q:r.q,s:n}}function F(t,r){var e=D(t||"");if(!r)return e.filter(L).sort(C).map(J);var n=r.map(function(o,i){return H(o,e,i)});return n.filter(L).sort(C).map(function(o){return r[n.indexOf(o)]})}function C(t,r){return r.q-t.q||r.s-t.s||t.o-r.o||t.i-r.i||0}function J(t){return t.encoding}function L(t){return t.q>0}var U=v.exports,y={exports:{}};y.exports=Q;y.exports.preferredLanguages=Q;var W=/^\s*([^\s\-;]+)(?:-([^\s;]+))?\s*(?:;(.*))?$/;function X(t){for(var r=t.split(","),e=0,n=0;e<r.length;e++){var a=O(r[e].trim(),e);a&&(r[n++]=a)}return r.length=n,r}function O(t,r){var e=W.exec(t);if(!e)return null;var n=e[1],a=e[2],o=n;a&&(o+="-"+a);var i=1;if(e[3])for(var u=e[3].split(";"),f=0;f<u.length;f++){var l=u[f].split("=");l[0]==="q"&&(i=parseFloat(l[1]))}return{prefix:n,suffix:a,q:i,i:r,full:o}}function Y(t,r,e){for(var n={o:-1,q:0,s:0},a=0;a<r.length;a++){var o=Z(t,r[a],e);o&&(n.s-o.s||n.q-o.q||n.o-o.o)<0&&(n=o)}return n}function Z(t,r,e){var n=O(t);if(!n)return null;var a=0;if(r.full.toLowerCase()===n.full.toLowerCase())a|=4;else if(r.prefix.toLowerCase()===n.full.toLowerCase())a|=2;else if(r.full.toLowerCase()===n.prefix.toLowerCase())a|=1;else if(r.full!=="*")return null;return{i:e,o:r.i,q:r.q,s:a}}function Q(t,r){var e=X(t===void 0?"*":t||"");if(!r)return e.filter(w).sort(E).map(_);var n=r.map(function(o,i){return Y(o,e,i)});return n.filter(w).sort(E).map(function(o){return r[n.indexOf(o)]})}function E(t,r){return r.q-t.q||r.s-t.s||t.o-r.o||t.i-r.i||0}function _(t){return t.full}function w(t){return t.q>0}var j=y.exports,h={exports:{}};h.exports=R;h.exports.preferredMediaTypes=R;var rr=/^\s*([^\s\/;]+)\/([^;\s]+)\s*(?:;(.*))?$/;function er(t){for(var r=ir(t),e=0,n=0;e<r.length;e++){var a=A(r[e].trim(),e);a&&(r[n++]=a)}return r.length=n,r}function A(t,r){var e=rr.exec(t);if(!e)return null;var n=Object.create(null),a=1,o=e[2],i=e[1];if(e[3])for(var u=sr(e[3]).map(or),f=0;f<u.length;f++){var l=u[f],d=l[0].toLowerCase(),p=l[1],q=p&&p[0]==='"'&&p[p.length-1]==='"'?p.substr(1,p.length-2):p;if(d==="q"){a=parseFloat(q);break}n[d]=q}return{type:i,subtype:o,params:n,q:a,i:r}}function tr(t,r,e){for(var n={o:-1,q:0,s:0},a=0;a<r.length;a++){var o=nr(t,r[a],e);o&&(n.s-o.s||n.q-o.q||n.o-o.o)<0&&(n=o)}return n}function nr(t,r,e){var n=A(t),a=0;if(!n)return null;if(r.type.toLowerCase()==n.type.toLowerCase())a|=4;else if(r.type!="*")return null;if(r.subtype.toLowerCase()==n.subtype.toLowerCase())a|=2;else if(r.subtype!="*")return null;var o=Object.keys(r.params);if(o.length>0)if(o.every(function(i){return r.params[i]=="*"||(r.params[i]||"").toLowerCase()==(n.params[i]||"").toLowerCase()}))a|=1;else return null;return{i:e,o:r.i,q:r.q,s:a}}function R(t,r){var e=er(t===void 0?"*/*":t||"");if(!r)return e.filter($).sort(T).map(ar);var n=r.map(function(o,i){return tr(o,e,i)});return n.filter($).sort(T).map(function(o){return r[n.indexOf(o)]})}function T(t,r){return r.q-t.q||r.s-t.s||t.o-r.o||t.i-r.i||0}function ar(t){return t.type+"/"+t.subtype}function $(t){return t.q>0}function S(t){for(var r=0,e=0;(e=t.indexOf('"',e))!==-1;)r++,e++;return r}function or(t){var r=t.indexOf("="),e,n;return r===-1?e=t:(e=t.substr(0,r),n=t.substr(r+1)),[e,n]}function ir(t){for(var r=t.split(","),e=1,n=0;e<r.length;e++)S(r[n])%2==0?r[++n]=r[e]:r[n]+=","+r[e];return r.length=n+1,r}function sr(t){for(var r=t.split(";"),e=1,n=0;e<r.length;e++)S(r[n])%2==0?r[++n]=r[e]:r[n]+=";"+r[e];r.length=n+1;for(var e=0;e<r.length;e++)r[e]=r[e].trim();return r}var ur=h.exports;/*!
 * negotiator
 * Copyright(c) 2012 Federico Romero
 * Copyright(c) 2012-2014 Isaac Z. Schlueter
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var fr=z,pr=U,lr=j,gr=ur;g.exports=s;g.exports.Negotiator=s;function s(t){if(!(this instanceof s))return new s(t);this.request=t}s.prototype.charset=function(r){var e=this.charsets(r);return e&&e[0]};s.prototype.charsets=function(r){return fr(this.request.headers["accept-charset"],r)};s.prototype.encoding=function(r){var e=this.encodings(r);return e&&e[0]};s.prototype.encodings=function(r){return pr(this.request.headers["accept-encoding"],r)};s.prototype.language=function(r){var e=this.languages(r);return e&&e[0]};s.prototype.languages=function(r){return lr(this.request.headers["accept-language"],r)};s.prototype.mediaType=function(r){var e=this.mediaTypes(r);return e&&e[0]};s.prototype.mediaTypes=function(r){return gr(this.request.headers.accept,r)};s.prototype.preferredCharset=s.prototype.charset;s.prototype.preferredCharsets=s.prototype.charsets;s.prototype.preferredEncoding=s.prototype.encoding;s.prototype.preferredEncodings=s.prototype.encodings;s.prototype.preferredLanguage=s.prototype.language;s.prototype.preferredLanguages=s.prototype.languages;s.prototype.preferredMediaType=s.prototype.mediaType;s.prototype.preferredMediaTypes=s.prototype.mediaTypes;var cr=g.exports;export{cr as n};
