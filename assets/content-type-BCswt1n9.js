var s={};/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var p=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,E=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,u=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,d=/\\([\u000b\u0020-\u00ff])/g,w=/([\\"])/g,y=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;s.format=c;s.parse=v;function c(r){if(!r||typeof r!="object")throw new TypeError("argument obj is required");var e=r.parameters,t=r.type;if(!t||!y.test(t))throw new TypeError("invalid type");var o=t;if(e&&typeof e=="object")for(var i,f=Object.keys(e).sort(),n=0;n<f.length;n++){if(i=f[n],!u.test(i))throw new TypeError("invalid parameter name");o+="; "+i+"="+g(e[i])}return o}function v(r){if(!r)throw new TypeError("argument string is required");var e=typeof r=="object"?h(r):r;if(typeof e!="string")throw new TypeError("argument string is required to be a string");var t=e.indexOf(";"),o=t!==-1?e.slice(0,t).trim():e.trim();if(!y.test(o))throw new TypeError("invalid media type");var i=new T(o.toLowerCase());if(t!==-1){var f,n,a;for(p.lastIndex=t;n=p.exec(e);){if(n.index!==t)throw new TypeError("invalid parameter format");t+=n[0].length,f=n[1].toLowerCase(),a=n[2],a.charCodeAt(0)===34&&(a=a.slice(1,-1),a.indexOf("\\")!==-1&&(a=a.replace(d,"$1"))),i.parameters[f]=a}if(t!==e.length)throw new TypeError("invalid parameter format")}return i}function h(r){var e;if(typeof r.getHeader=="function"?e=r.getHeader("content-type"):typeof r.headers=="object"&&(e=r.headers&&r.headers["content-type"]),typeof e!="string")throw new TypeError("content-type header is missing from object");return e}function g(r){var e=String(r);if(u.test(e))return e;if(e.length>0&&!E.test(e))throw new TypeError("invalid parameter value");return'"'+e.replace(w,"\\$1")+'"'}function T(r){this.parameters=Object.create(null),this.type=r}export{s as c};
