var j=O,G=/\\.|\((?:\?<(.*?)>)?(?!\?)/g;function O(e,n,f){f=f||{},n=n||[];var T=f.strict,_=f.end!==!1,w=f.sensitive?"":"i",$=f.lookahead!==!1,g=0,R=n.length,v=0,E=0,a=0,l="",i;if(e instanceof RegExp){for(;i=G.exec(e.source);)i[0][0]!=="\\"&&n.push({name:i[1]||E++,optional:!1,offset:i.index});return e}if(Array.isArray(e))return e=e.map(function(r){return O(r,n,f).source}),new RegExp(e.join("|"),w);for(e=e.replace(/\\.|(\/)?(\.)?:(\w+)(\(.*?\))?(\*)?(\?)?|[.*]|\/\(/g,function(r,x,u,P,c,b,d,s){if(a=s+r.length,r[0]==="\\")return l+=r,r;if(r===".")return l+="\\.",g+=1,"\\.";if(l=x||u?"":e.slice(a,s),r==="*")return g+=3,"(.*)";if(r==="/(")return l+="/",g+=2,"/(?:";x=x||"",u=u?"\\.":"",d=d||"",c=c?c.replace(/\\.|\*/,function(A){return A==="*"?"(.*)":A}):l?"((?:(?!/|"+l+").)+?)":"([^/"+u+"]+?)",n.push({name:P,optional:!!d,offset:s+g});var o="(?:"+u+x+c+(b?"((?:[/"+u+"].+?)?)":"")+")"+d;return g+=o.length-r.length,o});i=G.exec(e);)i[0][0]!=="\\"&&((R+v===n.length||n[R+v].offset>i.index)&&n.splice(R+v,0,{name:E++,optional:!1,offset:i.index}),v++);return e+=T?"":e[e.length-1]==="/"?"?":"/?",_?e+="$":e[e.length-1]!=="/"&&(e+=$?"(?=/|$)":"(?:/|$)"),new RegExp("^"+e,w)}export{j as p};
